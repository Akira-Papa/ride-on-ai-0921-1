# 既存実装からJestテストコードを書く（テンプレ）
## 目的
- 現在の実装に対して、網羅的な単体テスト（Jest）を作成/強化する。
## タスク内容
- 公開API/副作用の抽出
- 正常/異常/境界/大量/順序/冪等のケース化
- モック/スタブの設計
- 実行とレポート整備
## 使うタイミング
- 実装完了直後 / 既存コードのテスト欠落時
## 入力
- 対象コード: {src/…/*.ts|tsx}
- 依存: {DB/外部API/環境変数}
## 手順
1) 対象の公開関数/副作用点を列挙
2) 観点（正常/異常/境界/大量/順序/冪等）でケース化
3) 依存はモック化（リトライ/例外/タイムアウトも再現）
4) `src/__tests__/{対象}/*.test.ts` を作成
5) 実行: `npm run test` / `pnpm test`
6) カバレッジ閾値に満たない箇所を追撃
## 出力（テスト雛形）
```ts
describe('{対象関数}', () => {
  it('正常: {説明}', async () => {/* Arrange/Act/Assert */})
  it('異常: {説明}', async () => {/* … */})
  it('境界: {説明}', async () => {/* … */})
  it('大量: {説明}', async () => {/* … */})
  it('順序/冪等: {説明}', async () => {/* … */})
})
```
## サンプル（ダミー）
- 対象: `src/app/services/orderService.ts::create`